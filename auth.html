<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>АКАЛАН — Вход / Регистрация</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <div class="container header__container">
            <div class="header__logo">
                <a href="index.html">АКАЛАН</a>
            </div>
            <div class="header__buttons">
                <a href="index.html" class="btn btn-outline home-btn" title="На главную">
                    <i class="fas fa-home"></i> <span class="home-text">Главная</span>
                </a>
            </div>
            <input type="checkbox" id="burger-toggle" class="burger-toggle">
            <label for="burger-toggle" class="burger-icon"><i class="fas fa-bars"></i></label>
            <div class="header__nav-wrapper">
                <nav class="header__nav">
                    <ul class="nav-list">
                        <li><a href="index.html#">Категории услуг</a></li>
                        <li><a href="index.html#">Исполнителям</a></li>
                        <li><a href="index.html#">Заказчикам</a></li>
                        <li><a href="index.html#">Помощь</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main class="auth-main">
        <div class="container">
            <div class="auth-card">
                <!-- Переключатели табов -->
                <div class="auth-tabs">
                    <button class="auth-tab active" id="loginTab">Вход</button>
                    <button class="auth-tab" id="registerTab">Регистрация</button>
                </div>

                <!-- Форма входа -->
                <form class="auth-form active" id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">Email или логин</label>
                        <input type="text" id="loginEmail" placeholder="example@mail.ru" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Пароль</label>
                        <input type="password" id="loginPassword" placeholder="••••••••" required>
                    </div>
                    <div id="loginError" style="color: red; font-size: 0.9rem; margin-top: 5px; display: none;">Неверный логин или пароль</div>
                    <button type="submit" class="auth-btn">Войти</button>
                    <p class="auth-hint">Нет аккаунта? <a href="#" id="switchToRegister">Зарегистрируйтесь</a></p>
                </form>

                <!-- Форма регистрации -->
                <form class="auth-form" id="registerForm">
                    <div class="form-group">
                        <label for="regName">Имя</label>
                        <input type="text" id="regName" placeholder="Иван Петров" required>
                    </div>
                    <div class="form-group">
                        <label for="regEmail">Email</label>
                        <input type="email" id="regEmail" placeholder="example@mail.ru" required>
                    </div>
                    <div class="form-group">
                        <label for="regPassword">Пароль</label>
                        <input type="password" id="regPassword" placeholder="не менее 6 символов" required>
                    </div>
                    <div class="form-group">
                        <label for="regConfirm">Подтверждение пароля</label>
                        <input type="password" id="regConfirm" placeholder="введите ещё раз" required>
                    </div>
                    <button type="submit" class="auth-btn">Зарегистрироваться</button>
                    <p class="auth-hint">Уже есть аккаунт? <a href="#" id="switchToLogin">Войдите</a></p>
                </form>

                <!-- Блок выбора роли (появляется после успешной регистрации) -->
                <div class="role-selection" id="roleSelection" style="display: none;">
                    <h3>Выберите вашу роль</h3>
                    <div class="role-buttons">
                        <button class="role-btn" id="roleExecutor">Исполнитель</button>
                        <button class="role-btn" id="roleCustomer">Заказчик</button>
                    </div>
                    <p class="role-hint">
                        <a href="#" id="backToRegister">← Вернуться к регистрации</a>
                    </p>
                </div>
            </div>
            <!-- Ссылка на главную под карточкой -->
            <div class="back-to-home">
                <a href="index.html"><i class="fas fa-arrow-left"></i> Вернуться на главную</a>
            </div>
        </div>
    </main>

    <!-- Подвал (сокращён для примера) -->
    <footer class="footer">
        <div class="container footer__container">
            <!-- Здесь можно вставить полный подвал, как на главной -->
        </div>
        <div class="footer__bottom">
            <p>&copy; 2026 АКАЛАН. Все права защищены.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Элементы табов и форм
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const switchToRegister = document.getElementById('switchToRegister');
            const switchToLogin = document.getElementById('switchToLogin');
            const loginError = document.getElementById('loginError');

            // Элементы выбора роли
            const roleSelection = document.getElementById('roleSelection');
            const roleExecutor = document.getElementById('roleExecutor');
            const roleCustomer = document.getElementById('roleCustomer');
            const backToRegister = document.getElementById('backToRegister');

            // Вспомогательные функции переключения форм
            function showLogin() {
                loginTab.classList.add('active');
                registerTab.classList.remove('active');
                loginForm.classList.add('active');
                registerForm.classList.remove('active');
                roleSelection.style.display = 'none';
                document.querySelector('.auth-tabs').style.display = 'flex';
                loginError.style.display = 'none'; // скрыть ошибку при переключении
            }

            function showRegister() {
                registerTab.classList.add('active');
                loginTab.classList.remove('active');
                registerForm.classList.add('active');
                loginForm.classList.remove('active');
                roleSelection.style.display = 'none';
                document.querySelector('.auth-tabs').style.display = 'flex';
                loginError.style.display = 'none';
            }

            // При успешной регистрации показываем блок выбора роли
            function showRoleSelection() {
                document.querySelector('.auth-tabs').style.display = 'none';
                loginForm.style.display = 'none';
                registerForm.style.display = 'none';
                roleSelection.style.display = 'block';
            }

            // Обработчики табов
            loginTab.addEventListener('click', showLogin);
            registerTab.addEventListener('click', showRegister);
            if (switchToRegister) switchToRegister.addEventListener('click', (e) => { e.preventDefault(); showRegister(); });
            if (switchToLogin) switchToLogin.addEventListener('click', (e) => { e.preventDefault(); showLogin(); });

            // Обработчик отправки формы входа (с проверкой учётных данных)
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;

                // Демо-учётные данные:
                if (email === 'admin@a.ru' && password === 'admin') {
                    // Переход на страницу заказчика
                    window.location.href = 'customer.html';
                } else if (email === 'user@u.ru' && password === 'user') {
                    // Переход на страницу исполнителя
                    window.location.href = 'executor.html';
                } else {
                    // Показываем ошибку
                    loginError.style.display = 'block';
                }
            });

            // Обработчик отправки формы регистрации
            registerForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const pass = document.getElementById('regPassword').value;
                const confirm = document.getElementById('regConfirm').value;
                if (pass !== confirm) {
                    alert('Пароли не совпадают!');
                } else {
                    // Имитация успешной регистрации – показываем выбор роли
                    showRoleSelection();
                }
            });

            // Обработчики кнопок выбора роли
            roleExecutor.addEventListener('click', () => {
                // Переход на страницу исполнителя
                window.location.href = 'executor.html';
            });

            roleCustomer.addEventListener('click', () => {
                // Переход на страницу заказчика
                window.location.href = 'customer.html';
            });

            // Кнопка "Вернуться к регистрации"
            backToRegister.addEventListener('click', (e) => {
                e.preventDefault();
                showRegister();
            });
        });
    </script>
</body>
</html>